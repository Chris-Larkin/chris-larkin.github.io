<script>
    console.log('Smooth scroll script loaded and running');
    
    document.addEventListener('DOMContentLoaded', function() {
        console.log('DOM fully loaded');
        const menuLinks = document.querySelectorAll('nav a[href^="#"]');
        console.log('Found menu links:', menuLinks.length);
    
        menuLinks.forEach(link => {
            link.addEventListener('click', function(e) {
                const href = this.getAttribute('href');
                console.log('Clicked link:', href);
    
                // Only apply smooth scroll to Research, Posts, and Contact
                if (href !== '/#papers' && href !== '/#news' && href !== '/#contact') {
                    console.log('Skipping smooth scroll for:', href);
                    return;
                }
    
                e.preventDefault();
                console.log('Preventing default behavior for:', href);
    
                const targetId = href.replace('/#', '');
                const targetElement = document.getElementById(targetId);
    
                if (targetElement) {
                    console.log('Scrolling to:', targetId);
                    targetElement.scrollIntoView({
                        behavior: 'smooth'
                    });
                } else {
                    console.log('Target element not found:', targetId);
                }
            });
        });
    });
    </script>